function burgerMenu(){const e=document.querySelector(".burger"),t=document.querySelector(".menu"),o=document.querySelector("body");e.addEventListener("click",(()=>{t.classList.contains("active")?(t.classList.remove("active"),e.classList.remove("active-burger"),o.classList.remove("locked")):(t.classList.add("active"),e.classList.add("active-burger"),o.classList.add("locked"))}));document.querySelectorAll(".menu__item").forEach((s=>{s.addEventListener("click",(function(){t.classList.remove("active"),e.classList.remove("active-burger"),o.classList.remove("locked")}))})),window.addEventListener("resize",(()=>{window.innerWidth>991.98&&(t.classList.remove("active"),e.classList.remove("active-burger"),o.classList.remove("locked"))}))}function fixedNav(){const e=document.querySelector("nav");window.scrollY>=1?e.classList.add("fixed__nav"):e.classList.remove("fixed__nav")}function moreText(){const e=document.querySelectorAll("[data-more-wrapper]");if(!e)return null;e.forEach((e=>{const t=e.querySelector("[data-more-btn]");e.addEventListener("click",(function(){this.classList.toggle("more");const e=this.classList.contains("more");t.querySelector("span").innerText=e?"Свернуть":"Нажмите, чтобы открыть"}))}))}function doctorsSlider(){if(!document.querySelector(".doctors"))return null;new Swiper(".doctors__swiper",{slidesPerView:"auto",spaceBetween:40,pagination:{el:".doctors__swiper-pagination",type:"bullets",clickable:!0},breakpoints:{1200:{spaceBetween:80}}})}function doctorSlider(){if(!document.querySelector(".doctor"))return null;new Swiper(".doctor__swiper",{slidesPerView:"auto",spaceBetween:20,navigation:{nextEl:".doctor__arrow--next",prevEl:".doctor__arrow--prev"},pagination:{el:".doctor__swiper-pagination",type:"bullets",clickable:!0},breakpoints:{1200:{spaceBetween:60}}})}function doctors(){if(!document.querySelector(".doctors"))return null;const e=document.querySelectorAll("[data-doctor-slide]"),t=document.querySelectorAll("[data-doctor-content]");e.forEach((o=>{o.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("active"))),o.classList.add("active");const s=o.getAttribute("data-doctor-slide");t.forEach((e=>e.classList.remove("active"))),t[s-1].classList.add("active")}))}))}function services(){let e=document.querySelectorAll("[data-services-item]"),t=document.querySelectorAll("[data-services-content]");e.forEach((function(o){o.addEventListener("click",(function(){e.forEach((function(e){e.classList.remove("active")})),o.classList.add("active");const s=o.getAttribute("data-services-item"),r=document.querySelector('[data-services-content="'+s+'"]');t.forEach((function(e){e.classList.remove("active")})),r.classList.add("active")}))})),window.matchMedia("(max-width: 767px)").matches&&t.forEach((e=>{const t=e.querySelector("[data-services-btn]");t.addEventListener("click",(()=>{e.classList.toggle("open"),t.textContent="Показать ещё"===t.textContent?"Скрыт":"Показать ещё"}))}))}function phoneMask(){if(!document.querySelector(".form"))return null;document.querySelectorAll(".js-input-phone").forEach((e=>{IMask(e,{mask:[{mask:"+{7}(000)000-00-00",startsWith:"7",prepare:e=>"8"===e[0]?e.slice(1):e},{mask:"8(000)000-00-00",startsWith:"8"}]})}))}burgerMenu(),window.addEventListener("scroll",fixedNav),moreText(),doctorsSlider(),doctorSlider(),doctors(),services(),phoneMask();let forms=document.querySelectorAll(".form");function map(){if(!document.querySelector(".map"))return null;let e=[59.959048,30.353058];ymaps.ready((function(){let t=new ymaps.Map("map",{center:e,zoom:15}),o=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"./img/pin.svg",iconImageSize:[42,42],iconImageOffset:[-14,-64]});t.geoObjects.add(o),t.controls.remove("geolocationControl"),t.controls.remove("searchControl"),t.controls.remove("trafficControl"),t.controls.remove("typeSelector"),t.controls.remove("fullscreenControl"),t.controls.remove("zoomControl"),t.controls.remove("rulerControl")}))}forms.forEach((e=>{e.addEventListener("submit",(function(t){t.preventDefault();let o=e.querySelectorAll(".js-input");e.querySelector(".js-input-phone"),e.querySelector(".js-input-email");let s=!1;if(o.forEach((function(e){var t,o;e.classList.contains("js-input-email")&&(o=e.value,!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(o).toLowerCase()))?(console.log("Email not valid"),e.classList.add("error"),s=!0):e.classList.contains("js-input-phone")&&(t=e.value,!/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(String(t)))?(console.log("Phone not valid"),e.classList.add("error"),s=!0):""===e.value?(console.log("Input not filled"),e.classList.add("error"),s=!0):e.classList.remove("error")})),s)console.log("Validation failed");else{console.log("Form submitted successfully!");const t=e.querySelector(".form__btn");t.querySelector(".form__btn-text").innerText="Ваша заявка принята!",t.querySelector(".form__btn-icon").src="./img/icons/check.svg",t.querySelector(".form__btn-icon").alt="check icon",e.classList.contains("modal__form")&&(e.classList.add("successfully"),setTimeout((()=>{e.classList.remove("successfully");document.querySelector(".modal").classList.remove("show")}),2e3))}}))})),map(),document.addEventListener("DOMContentLoaded",(function(){if(!document.querySelector(".news-page"))return null;let e=document.querySelectorAll(".news-page__item");function t(){e.forEach((function(e){const t=e.querySelector(".news-page__item-texts").textContent.trim().split("\n").filter(Boolean).length;window.innerWidth<=991?e.classList.remove("desktop-more"):window.innerWidth<=767?t>4?e.classList.add("desktop-more"):e.classList.remove("desktop-more"):window.innerWidth<=991?t>9?e.classList.add("desktop-more"):e.classList.remove("desktop-more"):window.innerWidth<=1024?t>20?e.classList.add("desktop-more"):e.classList.remove("desktop-more"):window.innerWidth<=1440?t>24?e.classList.add("desktop-more"):e.classList.remove("desktop-more"):t>17?e.classList.add("desktop-more"):e.classList.remove("desktop-more")}))}t(),window.addEventListener("resize",t)}));const themeBtn=document.querySelector(".slider-theme");themeBtn.addEventListener("click",(()=>{document.body.classList.toggle("light-mode")}));const openModalBtns=document.querySelectorAll(".open-modal-btn"),closeModalBtns=document.querySelectorAll(".close-modal-btn"),modals=document.querySelectorAll(".modal");function openModalAfterDelay(){document.getElementById("modal1").classList.add("show")}openModalBtns.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.modalId;document.getElementById(t).classList.add("show")}))})),closeModalBtns.forEach((e=>{e.addEventListener("click",(()=>{e.closest(".modal").classList.remove("show")}))})),window.addEventListener("click",(e=>{e.target.classList.contains("modal")&&e.target.classList.remove("show")})),setTimeout(openModalAfterDelay,6e4);