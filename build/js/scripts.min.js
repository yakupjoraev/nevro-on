function burgerMenu(){const e=document.querySelector(".burger"),t=document.querySelector(".menu"),o=document.querySelector("body");e.addEventListener("click",(()=>{t.classList.contains("active")?(t.classList.remove("active"),e.classList.remove("active-burger"),o.classList.remove("locked")):(t.classList.add("active"),e.classList.add("active-burger"),o.classList.add("locked"))}));document.querySelectorAll(".menu__item").forEach((r=>{r.addEventListener("click",(function(){t.classList.remove("active"),e.classList.remove("active-burger"),o.classList.remove("locked")}))})),window.addEventListener("resize",(()=>{window.innerWidth>991.98&&(t.classList.remove("active"),e.classList.remove("active-burger"),o.classList.remove("locked"))}))}function fixedNav(){const e=document.querySelector("nav");window.scrollY>=1?e.classList.add("fixed__nav"):e.classList.remove("fixed__nav")}burgerMenu(),window.addEventListener("scroll",fixedNav);const anchors=document.querySelectorAll('a[href*="#"]');for(let e of anchors)e.addEventListener("click",(function(t){t.preventDefault();const o=e.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})}));function moreText(){const e=document.querySelectorAll("[data-more-wrapper]");if(!e)return null;e.forEach((e=>{const t=e.querySelector("[data-more-btn]"),o=e.querySelector("[data-more-text]");e.addEventListener("click",(function(){this.classList.toggle("more"),o.classList.toggle("more"),o&&(o.classList.contains("more")?t.querySelector("span").innerText="Свернуть":t.querySelector("span").innerText="Нажмите, чтобы открыть")}))}))}function doctorsSlider(){if(!document.querySelector(".doctors"))return null;new Swiper(".doctors__swiper",{slidesPerView:"auto",spaceBetween:40,pagination:{el:".doctors__swiper-pagination",type:"bullets",clickable:!0},breakpoints:{1200:{spaceBetween:80}}})}function phoneMask(){if(!document.querySelector(".form"))return null;document.querySelectorAll(".js-input-phone").forEach((e=>{IMask(e,{mask:[{mask:"+{7}(000)000-00-00",startsWith:"7",prepare:e=>"8"===e[0]?e.slice(1):e},{mask:"8(000)000-00-00",startsWith:"8"}]})}))}moreText(),doctorsSlider(),phoneMask();let forms=document.querySelectorAll(".form");function map(){if(!document.querySelector(".map"))return null;let e=[59.959048,30.353058];ymaps.ready((function(){let t=new ymaps.Map("map",{center:e,zoom:15}),o=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"./img/pin.svg",iconImageSize:[42,42],iconImageOffset:[-14,-64]});t.geoObjects.add(o),t.controls.remove("geolocationControl"),t.controls.remove("searchControl"),t.controls.remove("trafficControl"),t.controls.remove("typeSelector"),t.controls.remove("fullscreenControl"),t.controls.remove("zoomControl"),t.controls.remove("rulerControl")}))}forms.forEach((e=>{e.addEventListener("submit",(function(t){t.preventDefault();let o=e.querySelectorAll(".js-input");e.querySelector(".js-input-phone"),e.querySelector(".js-input-email");let r=!1;if(o.forEach((function(e){var t,o;e.classList.contains("js-input-email")&&(o=e.value,!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(o).toLowerCase()))?(console.log("Email not valid"),e.classList.add("error"),r=!0):e.classList.contains("js-input-phone")&&(t=e.value,!/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(String(t)))?(console.log("Phone not valid"),e.classList.add("error"),r=!0):""===e.value?(console.log("Input not filled"),e.classList.add("error"),r=!0):e.classList.remove("error")})),r)console.log("Validation failed");else{console.log("Form submitted successfully!");const t=e.querySelector(".form__btn");t.querySelector(".form__btn-text").innerText="Ваша заявка принята!",t.querySelector(".form__btn-icon").src="./img/icons/check.svg",t.querySelector(".form__btn-icon").alt="check icon"}}))})),map();