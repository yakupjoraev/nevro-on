function burgerMenu(){const e=document.querySelector(".burger"),o=document.querySelector(".menu"),t=document.querySelector("body");e.addEventListener("click",(()=>{o.classList.contains("active")?(o.classList.remove("active"),e.classList.remove("active-burger"),t.classList.remove("locked")):(o.classList.add("active"),e.classList.add("active-burger"),t.classList.add("locked"))}));document.querySelectorAll(".menu__item").forEach((r=>{r.addEventListener("click",(function(){o.classList.remove("active"),e.classList.remove("active-burger"),t.classList.remove("locked")}))})),window.addEventListener("resize",(()=>{window.innerWidth>991.98&&(o.classList.remove("active"),e.classList.remove("active-burger"),t.classList.remove("locked"))}))}function fixedNav(){const e=document.querySelector("nav");window.scrollY>=1?e.classList.add("fixed__nav"):e.classList.remove("fixed__nav")}burgerMenu(),window.addEventListener("scroll",fixedNav);const anchors=document.querySelectorAll('a[href*="#"]');for(let e of anchors)e.addEventListener("click",(function(o){o.preventDefault();const t=e.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}));function phoneMask(){if(!document.querySelector(".form"))return null;document.querySelectorAll(".js-input-phone").forEach((e=>{IMask(e,{mask:[{mask:"+{7}(000)000-00-00",startsWith:"7",prepare:e=>"8"===e[0]?e.slice(1):e},{mask:"8(000)000-00-00",startsWith:"8"}]})}))}phoneMask();let forms=document.querySelectorAll(".form");function map(){if(!document.querySelector(".map"))return null;let e=[59.959048,30.353058];ymaps.ready((function(){let o=new ymaps.Map("map",{center:e,zoom:15}),t=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"./img/pin.svg",iconImageSize:[42,42],iconImageOffset:[-14,-64]});o.geoObjects.add(t),o.controls.remove("geolocationControl"),o.controls.remove("searchControl"),o.controls.remove("trafficControl"),o.controls.remove("typeSelector"),o.controls.remove("fullscreenControl"),o.controls.remove("zoomControl"),o.controls.remove("rulerControl")}))}forms.forEach((e=>{e.addEventListener("submit",(function(o){o.preventDefault();let t=e.querySelectorAll(".js-input");e.querySelector(".js-input-phone"),e.querySelector(".js-input-email");let r=!1;if(t.forEach((function(e){var o,t;e.classList.contains("js-input-email")&&(t=e.value,!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase()))?(console.log("Email not valid"),e.classList.add("error"),r=!0):e.classList.contains("js-input-phone")&&(o=e.value,!/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(String(o)))?(console.log("Phone not valid"),e.classList.add("error"),r=!0):""===e.value?(console.log("Input not filled"),e.classList.add("error"),r=!0):e.classList.remove("error")})),r)console.log("Validation failed");else{console.log("Form submitted successfully!");const o=e.querySelector(".form__btn");o.querySelector(".form__btn-text").innerText="Ваша заявка принята!",o.querySelector(".form__btn-icon").src="./img/icons/check.svg",o.querySelector(".form__btn-icon").alt="check icon"}}))})),map();